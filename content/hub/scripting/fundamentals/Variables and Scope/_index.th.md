---
title: "ตัวแปรและขอบเขต"
type: docs
weight: 1
---
ใน Scheme การจัดการตัวแปรและขอบเขตเป็นแนวคิดหลักสำหรับการเขียนสคริปต์ที่มีประสิทธิภาพและบำรุงรักษาได้ ตัวแปรเก็บค่าข้อมูลที่สคริปต์ของคุณสามารถจัดการได้ ในขณะที่ขอบเขตจะกำหนดตำแหน่งที่ตัวแปรเหล่านั้นสามารถเข้าถึงได้ การทำความเข้าใจวิธีกำหนดและใช้ตัวแปรอย่างมีประสิทธิภาพช่วยให้คุณสร้างโค้ดที่มีโครงสร้าง ใช้ซ้ำได้ และปราศจากข้อผิดพลาด

### การพิมพ์แบบไดนามิก

Scheme มีการพิมพ์แบบไดนามิก: คุณไม่ต้องประกาศประเภทล่วงหน้า และตัวแปรสามารถเก็บค่าประเภทต่างๆ ไว้เมื่อเวลาผ่านไป

```scheme
(define x 42)       ; x is a number
(set! x "hello")    ; now x is a string
```

### บทบาทของคำจำกัดความและขอบเขตของตัวแปรในโครงการ

การกำหนดตัวแปรและการจัดการขอบเขตมีจุดประสงค์หลายประการ:
- **การจัดระเบียบข้อมูล:** ตัวแปรจัดเก็บข้อมูล ทำให้สคริปต์ของคุณสามารถอ่านและจัดการได้ง่ายขึ้น
- **การปรับปรุงการนำกลับมาใช้ใหม่ได้:** การใช้ตัวแปรที่กำหนดขอบเขตจะช่วยให้คุณนำส่วนของโค้ดมาใช้ซ้ำได้โดยไม่มีข้อขัดแย้ง
- **การห่อหุ้ม:** ขอบเขตที่แปลแล้วป้องกันการโต้ตอบโดยไม่ได้ตั้งใจระหว่างตัวแปรในส่วนต่างๆ ของสคริปต์
- **ลดความซับซ้อนของลอจิก:** ตัวแปรชั่วคราวในขอบเขตที่จำกัดจะช่วยลดความซับซ้อนในการคำนวณหรือเวิร์กโฟลว์ที่ใหญ่ขึ้น

### ประเภทของคำจำกัดความและขอบเขตของตัวแปร

Scheme มีโครงสร้างหลายอย่างสำหรับการกำหนดและกำหนดตัวแปรขอบเขต:
- **`let`:** สร้างการเชื่อมโยงเฉพาะสำหรับตัวแปรภายในบล็อกโค้ดเฉพาะ
- **`let*`:** เวอร์ชันต่อเนื่องของ `let` ซึ่งการเชื่อมโยงแต่ละรายการสามารถขึ้นอยู่กับเวอร์ชันก่อนหน้าได้
- **ชื่อ `let`:** โครงสร้างที่มีประสิทธิภาพสำหรับการกำหนดขั้นตอนหรือลูปภายในแบบเรียกซ้ำ
- **`define`:** สร้างตัวแปรส่วนกลางหรือฟังก์ชันที่สามารถเข้าถึงได้ตลอดทั้งสคริปต์ของคุณ

### คำจำกัดความและขอบเขตของตัวแปรทำงานอย่างไร

คำจำกัดความและขอบเขตของตัวแปรมักเกี่ยวข้องกับ:
1. **การประกาศตัวแปร:** การกำหนดค่าให้กับตัวแปรในบริบทเฉพาะ
2. **ขอบเขตการจำกัด:** การควบคุมตำแหน่งที่ตัวแปรสามารถเข้าถึงได้ (เช่น ภายในบล็อก `let` หรือทั่วโลก)
3. **การใช้ตัวแปร:** การเข้าถึงและการแก้ไขค่าตัวแปรเพื่อทำการคำนวณ ตรรกะ หรือการดำเนินการตามขั้นตอน

### ตัวอย่าง: การใช้ `let` สำหรับตัวแปรในเครื่อง

โครงสร้าง `let` ช่วยให้คุณกำหนดตัวแปรชั่วคราวที่พร้อมใช้งานภายในบล็อกที่ระบุเท่านั้น:

```scheme
(let ((x 10)
      (y 20))
  (+ x y))
```

- ตัวอย่างนี้ประกาศ `x` และ `y` ด้วยค่าท้องถิ่นและคำนวณผลรวม

### ตัวอย่าง: การใช้ `define` สำหรับตัวแปรร่วม

โครงสร้าง `define` สร้างตัวแปรหรือฟังก์ชันที่มีขอบเขตส่วนกลาง:

```scheme
(define pi 3.14159)
(define (circle-area radius)
  (* pi radius radius))
```

- สคริปต์นี้กำหนดค่าคงที่โกลบอล `pi` และฟังก์ชัน `circle-area` ที่ใช้งาน

### การเปรียบเทียบขอบเขต: ระดับท้องถิ่นกับระดับโลก

| คุณสมบัติ | ขอบเขตท้องถิ่น (`let`, `let*`) | ขอบเขตทั่วโลก (`define`) |
|------------------|--------------------------------------------------|---------------------------------------------------|
| **การเข้าถึง** | จำกัดเฉพาะบล็อกที่กำหนดไว้ | เข้าถึงได้ตลอดทั้งสคริปต์ |
| **การห่อหุ้ม** | ป้องกันการโต้ตอบโดยไม่ได้ตั้งใจ | อาจขัดแย้งกับตัวแปรที่กำหนดทั่วโลกอื่น ๆ |
| **กรณีการใช้งาน** | ตัวแปรชั่วคราวสำหรับงานเฉพาะ | ตัวแปรหรือฟังก์ชันที่ใช้ร่วมกันที่ใช้ตลอด |

### สรุป- **คำจำกัดความและขอบเขตของตัวแปร** เป็นพื้นฐานสำหรับการจัดระเบียบและจัดการข้อมูลในสคริปต์ Scheme ของคุณ
- ใช้ **ขอบเขตท้องถิ่น** (`let`, `let*` ชื่อ `let`) เพื่อสรุปตัวแปรชั่วคราวและหลีกเลี่ยงข้อขัดแย้ง
- ใช้ **ขอบเขตทั่วโลก** (`define`) สำหรับฟังก์ชันที่นำมาใช้ซ้ำหรือค่าคงที่ที่แชร์ในสคริปต์ของคุณ
- ความเข้าใจที่ชัดเจนเกี่ยวกับโครงสร้างเหล่านี้จะปรับปรุงความสามารถในการอ่าน การบำรุงรักษา และความน่าเชื่อถือของโค้ดของคุณ