---
title: "定義"
type: docs
weight: 3
---
Scheme 中的 `define` 語句是一個通用構造，用於建立全域或局部綁定。它最常用於定義變數和函數，使它們可以在整個腳本或特定範圍內重複使用和存取。理解`define`對於編寫模組化、可重複使用且可讀的Scheme程式至關重要。

### `define` 的目的

`define` 構造有多種用途：
- **定義變數**：將值指派給變數名稱，使其可供日後使用。
- **定義函數**：建立封裝特定邏輯的可重複使用過程。
- **本地定義**：在函數中使用時，`define` 建立不影響全域命名空間的本地綁定。

---

### 使用`define` 定義變數

`define` 的基本用途是建立保存常數或計算值的變數。

#### 語法
```scheme
(define variable-name value)
```

#### 範例：定義常數
```scheme
(define pi 3.14159)
(* pi 2) ;; Computes 2π
```

**結果**：`6.28318`

---

### 使用`define` 定義函數

您可以使用`define` 建立可重複使用的過程。

#### 語法
```scheme
(define (function-name parameter1 parameter2 ...)
  body-expression)
```

#### 範例：定義一個簡單函數
```scheme
(define (square x)
  (* x x))
(square 4) ;; Computes 4²
```

**結果**：`16`

---

### 本地定義`define`

在函數內部使用時，`define` 建立只能在封閉函數內存取的本地綁定。這可以避免污染全域命名空間並有助於組織程式碼。

#### 範例：本機輔助函數
```scheme
(define (process-values a b c)
  (define (square x) (* x x))  ;; Local helper function
  (define (cube x) (* x x x))  ;; Local helper function
  (+ (square a) (cube b) (square c)))
(process-values 2 3 4)
```

**結果**：`41`（計算\(2^2 + 3^3 + 4^2\)）

---

### `define` 的主要特點

1. **全域或局部範圍**：
   - 在頂層使用時，`define` 建立全域變數或函數。
   - 在另一個函數中使用時，`define` 建立本地綁定。

2. **可重複使用性**：
   - 使用`define` 定義的函數可以在不同的上下文中多次重複使用。

3. **提高可讀性**：
   - 將邏輯分解為更小的、命名良好的函數可以提高程式碼的清晰度和可維護性。

---

### `define` 和 `let` 之間的區別

| **方面** | **`define`** | **`let`** |
|------------------------------------|----------------------------------------------------------------|----------------------------------------|
| **目的** |為變數或函數建立全域或局部綁定。 |在本地化範圍內建立臨時綁定。 |
| **範圍** |處於頂層時具有全球性；在另一個函數內部時是本地的。 |總是位於 `let` 區塊的本地。       |
| **可重複使用性** |函數和變數可以在多個地方重複使用。 |變數暫時綁定到單一區塊。 |
| **語法** |明確定義變數或函數。       |將變數綁定與表達式求值結合。 |