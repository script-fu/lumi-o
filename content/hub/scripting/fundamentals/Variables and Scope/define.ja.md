---
title: "定義する"
type: docs
weight: 3
---
Scheme の `define` ステートメントは、グローバルまたはローカル バインディングの作成に使用される多用途の構造です。これは変数と関数を定義するために最も一般的に使用され、スクリプト全体または特定のスコープ内でそれらを再利用およびアクセスできるようにします。 `define` を理解することは、モジュール式で再利用可能で読み取り可能な Scheme プログラムを作成するために重要です。

### `define` の目的

`define` 構造は複数の目的に役立ちます。
- **変数の定義**: 値を変数名に割り当て、後で使用できるようにします。
- **関数の定義**: 特定のロジックをカプセル化する再利用可能なプロシージャを作成します。
- **ローカル定義**: 関数内で使用される場合、`define` は、グローバル名前空間に影響を与えないローカル バインディングを作成します。

---

### `define` を使用した変数の定義

`define` の基本的な使用法は、定数値または計算値を保持する変数を作成することです。

#### 構文
```scheme
(define variable-name value)
```

#### 例: 定数の定義
```scheme
(define pi 3.14159)
(* pi 2) ;; Computes 2π
```

**結果**: `6.28318`

---

### `define` を使用した関数の定義

`define` を使用して、再利用可能なプロシージャを作成できます。

#### 構文
```scheme
(define (function-name parameter1 parameter2 ...)
  body-expression)
```

#### 例: 単純な関数の定義
```scheme
(define (square x)
  (* x x))
(square 4) ;; Computes 4²
```

**結果**: `16`

---

### `define` を使用したローカル定義

関数内で使用される場合、`define` は、外側の関数内でのみアクセスできるローカル バインディングを作成します。これにより、グローバル名前空間の汚染が回避され、コードの整理に役立ちます。

#### 例: ローカル ヘルパー関数
```scheme
(define (process-values a b c)
  (define (square x) (* x x))  ;; Local helper function
  (define (cube x) (* x x x))  ;; Local helper function
  (+ (square a) (cube b) (square c)))
(process-values 2 3 4)
```

**結果**: `41` (\(2^2 + 3^3 + 4^2\) を計算します)

---

### `define` の主な機能

1. **グローバルまたはローカルスコープ**:
   - トップレベルで使用される場合、`define` はグローバル変数または関数を作成します。
   - 別の関数内で使用される場合、`define` はローカル バインディングを作成します。

2. **再利用性**:
   - `define` で定義された関数は、異なるコンテキストで複数回再利用できます。

3. **可読性の向上**:
   - ロジックを小さな適切な名前の関数に分割すると、コードの明瞭さと保守性が向上します。

---

### `define` と `let` の違い

| **側面** | **`define`** | **`let`** |
|-----------------------|-------------------------------------------------|--------------------------------------|
| **目的** |変数または関数のグローバルまたはローカル バインディングを作成します。 |ローカライズされたスコープで一時的なバインディングを作成します。 |
| **範囲** |トップレベルの場合はグローバル。別の関数内ではローカル。 | `let` ブロックに対して常にローカルです。       |
| **再利用性** |関数と変数は複数の場所で再利用できます。 |変数は単一のブロックに一時的にバインドされます。 |
| **構文** |変数または関数を明示的に定義します。       |変数バインディングと式の評価を組み合わせます。 |