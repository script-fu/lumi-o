---
title: "Установка Дебиан"
type: docs
url: "hub/install-linux/Installing-Debian"
---
В этом документе описан процесс установки Debian Stable в качестве операционной системы разработки Lumi·o. Это может быть полезно для других, создающих аналогичную среду.

Debian Stable был выбран потому, что Lumi стремится построить надежную и предсказуемую долгосрочную платформу. Разработка GIMP ориентирована на тестирование Debian, что делает Debian Stable тесно связанной базовой системой.

Если вы используете Windows, основное концептуальное изменение заключается в том, что большая часть установки и настройки программного обеспечения происходит с помощью менеджеров пакетов и простых команд терминала, а не загружаемых установщиков.

## Для кого предназначено это руководство

В этом руководстве описывается работающая установка Debian Stable, используемая для разработки Lumi. Это не общее руководство по установке Linux.

Это наиболее полезно для:

- художники, переходящие с Windows, которым нужна предсказуемая установка Linux
- разработчики собирают Lumi из исходников
- пользователи, которые предпочитают воспроизводить известную рабочую среду, а не разрабатывать собственную конфигурацию системы.

Предполагается базовое знакомство с разметкой диска и простым использованием командной строки.

## Резервное копирование ваших данных

Перед установкой Debian создайте полную резервную копию вашего домашнего каталога на внешнем диске. Включите любые дополнительные папки с данными, которые вы хотите сохранить.

Примечание. В Linux `~` представляет ваш домашний каталог.

Если вы используете репозитории Git, перенесите все важные изменения в их источники, чтобы их можно было легко восстановить после установки. Этот шаг актуален только в том случае, если вы уже используете Git.

## Создать раздел

Освободите место на основном диске для Debian. Для этого шага существует множество руководств и инструментов, включая GParted. В зависимости от ваших настроек вы можете:

- сжать существующий раздел Windows для двойной загрузки
- повторно использовать существующий раздел Linux
- подготовьте новый Linux и поменяйте разделы местами

Если вы не уверены, перед внесением изменений обратитесь к руководствам по конкретному оборудованию, поскольку этапы разделения существенно различаются в зависимости от системы.


## Создайте установочный USB-накопитель Debian

Предполагая, что целевой раздел и пространство подкачки уже существуют:

1. Загрузите ISO-образ Debian с официального сайта: https://www.debian.org/.
2. В Windows используйте BalenaEtcher для записи ISO на USB-накопитель.
3. В Linux используйте инструмент командной строки, например `dd`, чтобы создать загрузочный USB-накопитель.

## Установите Дебиан

1. Вставьте USB-накопитель.
2. Перезапустите компьютер и нажмите клавишу меню загрузки (обычно `F2`, `F12`, `Esc` или `Del`) во время запуска.
3. Выберите USB-устройство.
4. Выберите неграфический установщик.
5. Оставьте пароль root пустым при появлении запроса, чтобы установщик предоставил sudo доступ к вашей учетной записи пользователя.
6. Разбейте раздел вручную:

   - Файловая система: ext4 (журналирование)
   - Подкачка: существующий раздел подкачки.
   - Точка монтирования: `/`
   - Метка: `linux`
   - Имя хоста: имя системы, отображаемое как `user@hostname`.
   - Учетная запись пользователя: ваше полное имя
   - Имя пользователя: имя для входа в терминал.

7. Выберите **Cinnamon** в качестве среды рабочего стола.
8. Завершите установку и перезагрузитесь в стабильную версию Debian.

## Настройка системы

### Масштабирование дисплея

Debian Stable в настоящее время непоследовательно обрабатывает дробное масштабирование, особенно на дисплеях 4K. Вместо уменьшения разрешения экрана настройте элементы интерфейса напрямую.

Рекомендуемые корректировки:- Избегайте дробного масштабирования дисплея.
- Меню → Выбор шрифта → Настройки шрифта → Коэффициент масштабирования текста: `2.5`
- Шрифт рабочего стола: `14`
- Панель → Настроить → Высота панели: `60`
- Внешний вид панели → Размер символического значка правой зоны: `48px`
- Мышь и тачпад → Регулировка размера указателя
- Рабочий стол (щелкните правой кнопкой мыши) → Настроить → Увеличенный размер значка.

Настройка Firefox:

- Адресная строка → `about:config`
- Установите для `layout.css.devPixelsPerPx` значение `1`.

### Терминал

Настройте параметры терминала:

1. Меню → Терминал → Редактировать → Настройки.
2. Текст → Исходный размер: `140 columns`, `40 rows`
3. Текст → Пользовательский шрифт: `Monospace 10`
4. Цвета → Встроенные схемы → Solarized Dark

## Восстановить данные

При необходимости восстановите резервные копии файлов в домашнем каталоге, например:

- `Backup/Home/Artwork` → `~/Artwork`
- `Backup/Home/code` → `~/code`
- `Backup/Home/Desktop` → `~/Desktop`
- `Backup/Home/.ssh` → `~/.ssh`
- `Backup/Home/.config/lumi` → `~/.config/lumi`

Примечание. Папки, начинающиеся с `.`, являются скрытыми каталогами конфигурации в Linux.

## Необязательно: настройка Git

Требуется только в том случае, если вы планируете собирать Lumi или восстанавливать репозитории.

### Установите Git

```bash
sudo apt install git
```

Настройте свою личность:

```bash
git config --global --edit
```

#### Доступ к GitLab

Восстановите доступ к репозиторию GitLab или GitHub:

1. Измените права доступа к файлу ключей SSH: `chmod 600 ~/.ssh/id_rsa`.
2. Добавьте пользователя в новую установку Git: `ssh-add ~/.ssh/id_rsa`.
3. Проверьте соединение: `ssh -T git@ssh.gitlab.gnome.org` или `ssh -T git@github.com`.

Для каждого репозитория извлеките исходные коды и перезагрузите локальную ветку, чтобы она соответствовала:

```bash
git reset --hard remote-name/branch-name
git clean -df
```

Запустите `git status`, чтобы убедиться, что репозитории чисты.

Теперь у нас есть новая ОС с восстановленными всеми данными и репозиториями. Эта настройка отражает известную рабочую среду, используемую для разработки Lumi, и при необходимости может быть адаптирована к индивидуальным рабочим процессам.

## Сборка Lumi после установки ОС

Скрипты сборки Lumi находятся в:

`~/code/lumi-dev/build/lumi/scripts`.

```bash
cd ~/code/lumi-dev/build/lumi/scripts

# Install dependencies once
sudo bash lumi-install-packages.sh

# First full setup build
bash lumi-build-script.sh --scope setup --dir lumi-dev

# Regular rebuild after code changes
bash lumi-build-script.sh --scope build --dir lumi-dev

# Quick compile path
bash lumi-build-script.sh --scope compile --dir lumi-dev

# Launch Lumi
bash lumi-launch-active.sh lumi-dev
```