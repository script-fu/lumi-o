---
title: "파일 복구"
type: docs
---
Lumi는 두 개의 독립적인 복구 시스템(자동 백그라운드 저장 및 수동 증분 체크포인트)을 유지 관리합니다. 둘 다 단일 대화 상자에서 액세스할 수 있습니다.

## 액세스

**파일** → **이미지 복구**

현재 열려 있는 파일에 대한 복구 상태가 미리 채워진 대화 상자가 열립니다. 상단의 파일 선택기를 사용하여 다른 `.lum` 파일로 전환하세요.

---

## 자동 저장

Lumi는 편집하는 동안 정기적으로 작업의 배경 스냅샷을 저장합니다. 자동 저장은 **별도의 캐시 디렉토리**에 기록되며 작업 중인 `.lum` 파일은 그대로 유지됩니다.

```
~/.cache/lumi/autosave/~home~user~projects~my-painting.lum/
```

경로 인코딩은 `~`을 구분 기호로 사용하여 파일당 고유한 캐시 디렉터리를 생성합니다. 이는 프로젝트 파일 자체가 손실되거나 손상된 경우에도 자동 저장을 사용할 수 있음을 의미합니다.

- **빈도**: **편집** → **기본 설정** → **성능** → 자동 저장 간격에서 구성할 수 있습니다.
- **저장 위치**: 환경설정 → 성능에서도 설정됩니다.
- **목적**: 충돌 복구. 이미지 복구 대화 상자의 자동 저장 탭에는 타임스탬프와 함께 사용 가능한 자동 저장 상태가 표시됩니다.

최신 자동 저장 데이터가 포함된 파일을 열면 Lumi가 열릴 때 알려줍니다.

---

## 증분 저장

증분 저장은 `recovery/` 아래 **프로젝트 파일 내부**에 저장되는 수동 체크포인트 시스템입니다. 구조는 다음과 같습니다.

```
my-painting.lum/recovery/
  └── primary-01.lum/       (full baseline, created on first Ctrl+S)
      ├── delta-0001.lum/   (Ctrl+S checkpoint, only modified buffers)
      ├── delta-0002.lum/
      └── ...
```

새로운 `primary-NN.lum/` 기준선은 **파일 → 저장** 후에 작성됩니다. 이후에 Ctrl+S를 누르면 마지막 기준선 이후 변경된 버퍼만 포함하는 `delta-NNNN.lum/` 하위 디렉터리가 생성됩니다. 자동 저장 델타와 수동 저장 델타는 별도의 카운터를 사용하므로 서로의 기록을 방해하지 않습니다.

증분 저장은 **기본적으로 비활성화되어 있으며** 프로젝트별로 활성화되어야 합니다.

1. **파일** → **다른 이름으로 저장**(Shift+Ctrl+S).
2. 다른 이름으로 저장 대화 상자에서 **증분 저장**을 선택하고 선택적으로 **최대 저장** 제한을 설정합니다.
3. 설정은 프로젝트와 함께 저장되며 이후의 모든 Ctrl+S 누름에 적용됩니다.

기본 저장보다 새로운 증분 저장이 있는 `.lum` 파일을 열면 Lumi는 가장 최근 체크포인트를 로드하라는 **증분 저장 감지** 프롬프트를 표시합니다.

---

## 이미지 복구 대화상자

대화 상자에는 세 개의 탭과 두 개의 작업 버튼이 있습니다.

### 자동 저장 탭

타임스탬프 및 썸네일(사용 가능한 경우)과 함께 선택한 파일에 대해 사용 가능한 모든 자동 저장 상태를 나열합니다. 상태를 선택하고 **복구**를 클릭하여 엽니다.

이 탭을 사용하여 다음을 수행합니다.
- 충돌 후 복구합니다.
- 동일한 세션에서 이전 상태로 되돌립니다.

### 증분 탭

프로젝트 파일 내에 저장된 모든 체크포인트 상태를 나열합니다. 각 항목에는 체크포인트 타임스탬프가 표시됩니다. 체크포인트를 선택하고 **복구**를 클릭하여 엽니다.

이 탭을 사용하여 다음을 수행합니다.
- 별도의 파일 저장 없이 세션의 이전 시점으로 돌아갈 수 있습니다.
- 프로젝트의 버전 기록을 탐색합니다.

### 최신 탭

대화 상자가 열릴 때의 기본 탭입니다. 자동 저장 및 증분 체크포인트 모두에서 사용 가능한 최신 복구 상태를 자동으로 식별하고 해당 타임스탬프를 표시합니다. 개별 상태를 탐색하지 않고 즉시 로드하려면 **복구**를 클릭하세요.

---

## 버튼

| 버튼 | 액션 |
|---------|---------|
| **복구** | 선택한 복구 상태를 새 이미지로 엽니다. |
| **닫기** | 복구하지 않고 대화 상자를 닫습니다. |
| **이전 상태 정리...** | 정리 프롬프트를 엽니다(아래 참조). |

---

## 이전 상태 정리시간이 지남에 따라 복구 상태가 누적되면 상당한 디스크 공간이 소모될 수 있습니다. **이전 상태 정리...** 버튼(대화 상자 왼쪽 하단)은 활성 탭(자동 저장 또는 증분)에 대한 정리 프롬프트를 엽니다.

프롬프트에는 다음이 표시됩니다.
- 파일에 대해 전체 저장이 몇 개 존재합니까?
- 그들이 차지하는 총 디스크 공간.
- 유지할 저장 횟수를 선택하는 **최신 항목 유지** 스핀 버튼입니다.

**최신 항목 유지**를 `0`으로 설정하면 모든 복구 상태가 삭제됩니다. 전체 정리 후 다음 Ctrl+S를 누르면 새로운 기본 저장이 기록됩니다.

---

## 시동 복구

시작 시 Lumi가 가장 최근에 열었던 파일에 마지막 전체 저장보다 새로운 자동 저장 데이터가 있음을 감지하면 로드하기 전에 복구 프롬프트를 표시합니다. 수락(자동 저장 로드)하거나 해제(기본 저장을 정상적으로 열기)할 수 있습니다.