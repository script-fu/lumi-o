---
title: "레이어 및 비파괴 편집"
type: docs
---
Lumi의 레이어 시스템은 블렌딩, 마스킹 및 구성을 완벽하게 제어하여 복잡하고 비파괴적인 작업 흐름을 가능하게 합니다.

## 개요

레이어는 구조화된 일러스트레이션의 기초입니다. 각 레이어는 자체 혼합 모드, 불투명도 및 선택적 레이어 마스크를 사용하여 독립적입니다. 그룹은 자체 혼합 및 클리핑 속성을 사용하여 레이어를 계층적으로 중첩할 수 있습니다.

## 액세스

**패널** → **레이어** 또는 오른쪽의 기본 **레이어** 패널.

## 레이어 유형

### 페인트 레이어

페인팅된 콘텐츠에 대한 표준 래스터 레이어입니다. 선택적 알파 투명도를 사용하여 픽셀 데이터를 GEGL 버퍼로 저장합니다.

### 그룹 레이어

관련 레이어를 구성하기 위한 계층적 컨테이너입니다. 그룹에는 자체 혼합 모드, 불투명도 및 클리핑 마스크가 있을 수 있습니다. 그룹 예측은 필요에 따라 합성됩니다.

### 레이어 마스크

모든 레이어에 회색조 마스크가 부착되어 픽셀당 불투명도를 제어합니다. 흰색으로 마스크를 페인팅하면 픽셀이 불투명해집니다. 검정색은 투명하게 만듭니다. 회색은 부분적인 불투명도를 제공합니다.

## 블렌딩 모드

모든 레이어에는 아래 레이어와 결합하는 방법을 결정하는 혼합 모드가 있습니다.

- **일반**: 직접 불투명 블렌딩.
- **곱하기**: 색상 값을 곱하여 어둡게 만듭니다.
- **화면**: 반전, 곱하기, 다시 반전하여 밝게 만듭니다.
- **오버레이**: Multiply와 Screen의 조합입니다.
- **추가**: 추가 혼합(색상 값 합계).
- **빼기**: 빼기 블렌딩.
- **색상, 색조, 채도, 밝기**: HSL 구성 요소 블렌딩.

## 클리핑 및 마스킹

- **합성 모드: 배경화면에 클립**: 레이어의 합성 모드를 **배경화면에 클립**으로 설정하면 아래에 누적된 **Union** 레이어가 불투명하게 설정된 영역으로 합성이 제한됩니다. 레이어는 해당 레이어에 콘텐츠가 있고 알파 공간을 확장할 수 없는 부분만 칠합니다. 이는 레이어 속성 대화상자(**복합 모드** 드롭다운)에서 레이어별로 설정됩니다. 레이어의 효과적인 합성 모드가 Union이 아닌 경우 레이어 패널의 눈 아이콘이 합성 아이콘으로 대체되어 비표준 합성 동작을 나타냅니다.

  **예: 공유 알파 모양:** 그룹에서 아래쪽 레이어에는 기본 **Union** 복합 모드로 설정된 투명한 배경에 채워진 원이 포함되어 있습니다. 동일한 그룹에 있는 그 위의 모든 레이어는 **배경화면에 자르기**로 설정됩니다. 해당 레이어는 원이 불투명도를 제공하는 위치(하나의 모양, 여러 레이어)에만 칠할 수 있습니다. 이는 흘림에 대한 걱정 없이 정의된 실루엣 내에서 색상, 음영 및 디테일을 적용하는 일반적인 패턴입니다.
- **레이어 마스크**: 회색조 마스크를 적용하여 레이어 가시성을 픽셀별로 제어합니다. 마스크에 흰색을 칠하면 드러납니다. 검은색은 은폐합니다. 회색은 부분적인 불투명도를 제공합니다.
- **순수 하위 마스크**: 마스크는 드로어블 스택 내의 하위 항목으로 저장되어 변환 중 데이터 손실을 방지합니다.

## 레이어 선택(Alt 키)

캔버스 위로 마우스를 가져가는 동안 **Alt**(왼쪽 Alt)를 탭하면 도구를 전환하거나 클릭하지 않고도 커서 아래에 보이는 픽셀이 있는 레이어가 선택됩니다.

### 작동 방식

- **Alt 누르기**: 커서가 십자선으로 바뀌어 선택 모드가 활성화되었음을 나타냅니다.
- **Release Alt**: Lumi는 커서 위치(불투명도 > 25%)에서 맨 위의 불투명 레이어를 선택하고 선택합니다. 레이어 패널에서 레이어가 강조 표시되고 상태 표시줄에 **"선택한 레이어: '레이어 이름'"**이 표시됩니다.
- 캔버스에 선택된 레이어의 중심점에 핸들이 그려집니다. 커서가 멀어지면 핸들이 줄어들고 희미해집니다.

### 레이어 순환동일한 위치에서 후속 Alt 탭을 할 때마다 해당 지점의 스택에서 **아래의 다음 레이어**를 선택합니다. Lumi는 마지막으로 선택한 레이어를 기억하고 그 아래 레이어로 건너뜁니다. 스택의 맨 아래에 도달하면 다음 탭은 해당 위치의 최상위 레이어로 다시 순환됩니다. 이렇게 하면 Alt를 반복적으로 탭하여 복잡한 장면의 중첩된 레이어에 쉽게 접근할 수 있습니다.

### 취소 규정

Alt를 누르고 있는 동안 다음 중 하나가 발생하면 선택이 취소됩니다(Alt를 놓을 때 실행되지 않음).

- 마우스 버튼을 눌렀습니다(왼쪽 또는 오른쪽 클릭).
- 다른 키를 눌렀습니다.

이렇게 하면 Alt 드래그 동작(예: 브러시 크기 조정)과 Alt로 수정된 단축키가 실수로 활성 레이어를 변경하지 않고 작동하도록 할 수 있습니다.

### 제한사항

- **변형** 도구 작업 중에는 레이어 선택이 활성화되지 않습니다. Alt는 다른 의미를 갖습니다.
- 부동 선택 항목이 있는 경우 선택이 발생하지 않습니다.
- 왼쪽 Alt만 선택을 트리거합니다. 오른쪽 Alt는 표준 수정자로 처리됩니다.

## 작업

레이어 패널에서:

- **레이어 생성**: 마우스 오른쪽 버튼 클릭 → **새 레이어** 또는 **레이어** 메뉴를 사용합니다.
- **복제**: 마우스 오른쪽 버튼 클릭 → **복제** 또는 **레이어** → **복제**.
- **삭제**: 마우스 오른쪽 버튼 클릭 → **삭제** 또는 선택 후 **삭제**를 누릅니다.
- **재순서**: 레이어를 위나 아래로 드래그하여 쌓인 순서를 변경합니다.
- **이름 바꾸기**: 레이어 이름을 더블클릭합니다.
- **Merge Down**: 마우스 우클릭 → **Merge Down**을 클릭하면 아래 레이어와 결합됩니다.
- **이미지 병합**: **이미지** → **이미지 병합**을 통해 표시되는 모든 레이어를 병합합니다.

## 레이어 속성

- **불투명도**: 0~100%, 전체 레이어 투명도를 제어합니다.
- **블렌딩 모드**: 레이어가 아래 레이어와 결합되는 방식을 선택하는 드롭다운 메뉴입니다.
- **표시/숨김**: 눈 아이콘은 레이어 가시성을 전환합니다.

## 레이어 잠금

잠금 아이콘은 레이어 패널 헤더 행에 표시됩니다. 각 잠금은 독립적으로 전환될 수 있습니다. 자물쇠 아이콘을 마우스 오른쪽 버튼으로 클릭하면 해당 아이콘이 독점적으로 설정됩니다(해당 유형만 잠그고 동일한 레이어에 있는 다른 모든 항목은 잠금 해제됨).

- **알파 잠금**: 투명한 영역에 페인팅하는 것을 방지합니다. 브러시 스트로크는 이미 불투명도가 있는 픽셀에만 영향을 미칩니다. 완전히 투명한 픽셀은 수정되지 않습니다. 외부로 흘리지 않고 기존 모양 내에서 페인팅하는 데 유용합니다.

- **마스크 잠금**: 레이어 마스크 편집을 방지합니다. 마스크는 계속 표시되고 활성 상태로 유지되지만 이 잠금이 켜져 있는 동안에는 페인트하거나 수정할 수 없습니다.

- **색상 잠금**: 페인팅을 특정 색상(잠금이 적용되는 순간의 현재 전경색)으로 잠급니다. 이 레이어의 후속 스트로크에서는 활성 전경색에 관계없이 저장된 색상을 사용합니다. 잠금을 해제하면 저장된 색상이 삭제됩니다.

- **콘텐츠 잠금**(픽셀 잠금): 레이어에 대한 모든 픽셀 편집을 방지합니다. 레이어를 칠하거나, 채우거나, 변형하거나, 다른 방식으로 수정할 수 없습니다. 완성된 레이어를 보호하는 데 유용합니다.

- **위치 잠금**: 레이어가 이동하거나 변형되는 것을 방지합니다. 레이어는 계속 편집할 수 있습니다. 위치 변경(이동 도구, 변환 도구)만 차단됩니다.

- **가시성 잠금**: 눈 아이콘이 레이어의 가시성을 전환하는 것을 방지합니다. 편집 중에 항상 표시(또는 숨겨진) 상태로 유지되어야 하는 레이어를 보호합니다.

모든 잠금은 프로젝트와 함께 저장되며 세션 전반에 걸쳐 지속됩니다.

## 레이어 효과(fx)

**필터** 메뉴를 통해 적용된 비파괴 GEGL 필터는 픽셀을 즉시 수정하는 대신 레이어에 적용된 효과로 저장됩니다. 레이어에 커밋된 효과가 하나 이상 있으면 해당 레이어 옆의 레이어 패널에 **fx** 아이콘이 나타납니다.### 효과 팝업에 액세스하기

레이어 패널의 레이어 행에서 **fx** 아이콘을 클릭하면 해당 레이어에 대한 **레이어 효과** 팝오버가 열립니다.

팝오버에는 레이어에 대한 필터 스택이 표시되며, 각 커밋된 효과는 이름별로 나열되며 그 옆에는 가시성 토글이 표시됩니다.

### 컨트롤

- **가시성 눈 토글**(팝업 상단): 모든 효과를 동시에 켜거나 끕니다.
- **필터별 표시 토글**: 각 필터 행에는 해당 효과를 독립적으로 활성화하거나 비활성화할 수 있는 자체 눈 아이콘이 있습니다.
- **편집**: 선택한 필터에 대한 설정 대화 상자를 열어 해당 매개변수를 비파괴적으로 조정할 수 있습니다.
- **올림/내림**: 선택한 필터를 스택에서 위 또는 아래로 이동하며 순서 변경 효과가 적용됩니다.
- **병합**: 현재 표시되는 모든 효과를 레이어의 픽셀에 적용하여 변경 사항을 영구적으로 적용합니다. 모든 효과가 병합되면 fx 아이콘이 제거됩니다. 그룹 레이어에서는 병합을 사용할 수 없습니다.
- **제거**: 선택한 필터를 완전히 삭제합니다. 효과가 남아 있지 않으면 팝오버가 자동으로 닫힙니다.

목록에서 필터를 두 번 클릭해도 편집 대화 상자가 열립니다.

**수정** 및 **제거**는 레이어에서 픽셀 잠금이 활성화된 경우 차단됩니다. 필터가 활발히 편집되는 동안에는 필터의 순서를 변경할 수 없습니다.

### 효과 추가

**필터** → (모든 카테고리)에서 필터를 적용하세요. 활성 레이어가 대상이고 작업이 비파괴적으로 실행되는 경우 결과는 픽셀 데이터에 적용되지 않고 레이어 효과로 저장됩니다. 효과가 하나 이상 있으면 레이어에 fx 아이콘이 나타납니다.

## 레이어 속성 대화상자

레이어 패널에서 레이어를 두 번 클릭하여 레이어 속성 대화 상자를 엽니다.

### 아이덴티티

- **색상 태그**: 레이어 패널의 시각적 구성을 위한 색상 레이블입니다.

### 복합 공간 및 모드

- **복합 공간**: 이 레이어를 아래 레이어와 합성할 때 사용되는 색상 공간입니다. 옵션: 자동, 선형(RGB), 지각(RGB).
- **복합 모드**: 레이어 알파가 배경과 상호 작용하는 방식을 제어합니다. 옵션에는 Union(모든 영역에 영향을 줌, 일반 모드의 기본값), 배경에 클립(기존 콘텐츠가 있는 영역에만 영향, 대부분의 다른 혼합 모드의 기본값) 및 교차가 포함됩니다.

### 크기 및 오프셋

기존 레이어의 경우 **크기**에는 레이어 크기와 마스크 크기(마스크가 연결된 경우)가 읽기 전용 레이블로 표시됩니다.

**레이어 오프셋**: X 및 Y 스피너는 캔버스에서 레이어 위치를 제어합니다. 변경 사항은 대화 상자가 닫히는 대신 즉시 적용됩니다.

레이어에 마스크가 있는 경우 **마스크 오프셋**(마스크의 독립 위치에 대한 X 및 Y 스피너)이 아래에 표시됩니다.

새 레이어를 생성할 때 너비 및 높이 필드와 **채우기** 드롭다운(전경, 배경, 흰색, 투명)이 읽기 전용 크기 표시를 대체합니다.

### 레이어 속성(영구 기생충)

대화 상자의 하단 섹션에는 영구 기생충에 대한 스크롤 가능한 이름/값 테이블이 포함되어 있습니다(레이어에 연결된 임의의 키-값 메타데이터). 이러한 값은 프로젝트와 함께 저장되며 Scheme 스크립팅 인터페이스에서 액세스할 수 있습니다.

- 이름 또는 값 열의 셀을 클릭하여 인라인으로 편집합니다.
- **추가**: 빈 행을 새로 추가합니다.
- **삭제**: 선택한 행과 해당 기생충을 레이어에서 제거합니다.

레이어에 지속적인 기생충이 없으면 세 개의 빈 시작 행이 표시됩니다.

### 콘텐츠 상태하단의 읽기 전용 정보 줄에는 레이어(및 마스크가 있는 경우)의 현재 콘텐츠 상태(**Clear**, **Uniform** 또는 **Mixed**)가 표시됩니다. `*` 접두사는 마지막 저장 이후 레이어에 저장되지 않은 변경 사항이 있음을 나타냅니다.

## 성능

- **빠른 모드**: 그룹 내에 중첩된 단일 레이어에 페인팅할 때 Lumi는 스트로크 기간 동안 일시적으로 상위 그룹을 통과 렌더링으로 전환하고 전체 그룹 투영 재구성을 건너뜁니다. 이를 통해 잉크 입력 및 페인팅 중에 중첩된 투영 업데이트 지연이 제거됩니다. 스트로크가 끝나거나 활성 레이어가 변경되거나 저장되기 전에 전체 합성이 다시 시작됩니다.

  다음 조건 중 하나라도 상위 그룹에 적용되면 빠른 모드가 비활성화됩니다.
  - 그룹에는 눈에 띄는 비파괴 필터가 있습니다(필터에는 투영 버퍼가 필요함).
  - 그룹의 블렌드 모드가 **Normal** 또는 **Pass-through** 이외의 모드입니다.
  - 그룹에는 **배경으로 클립** 또는 **교차점** 복합 모드를 사용하는 직계 하위 항목이 있습니다(여기에는 투영 버퍼의 배경 데이터가 필요함).

  또한 최상위 레이어, 부동 선택 항목 또는 여러 레이어가 동시에 대상으로 지정되는 경우에는 빠른 모드가 활성화되지 않습니다.

  레이어의 일반 혼합 모드를 사용하여 페인팅 그룹에서 이러한 조건을 방지하도록 파일을 구성하면 잉크 입력 또는 페인팅 세션 전체에서 빠른 모드가 활성 상태로 유지됩니다.
- **지연 로딩**: 대규모 프로젝트가 빠르게 로드됩니다. 레이어 데이터는 필요할 때만 로드됩니다(예: 표시되거나 칠해지는 경우).

## 파일 형식

모든 레이어, 마스크 및 속성은 Lumi의 개방형 `.lum` 형식으로 저장됩니다. 파일은 개별 레이어 버퍼와 메타데이터가 포함된 디렉터리로, 호환성과 장기적인 접근성을 보장합니다.