---
title: "扭曲工具"
type: docs
---
扭曲工具在畫布上自由地推、拉和流動像素。在 Lumi 中，它比大多數實現更進一步：它可以將整個圖層群組（無論它包含多少嵌套圖層和遮罩）扭曲為單一統一對象，而不會展平或遺失任何結構。

## 概述

選擇一個圖層並在其上拖曳以在任意方向上移動像素。在您工作時，扭曲是非破壞性的：您可以撤消和重做各個筆劃，更改畫筆大小或筆劃之間的行為，並繼續細化直到您提交。提交會將累積的位移圖破壞性地應用於圖層的像素資料。

當選擇**群組圖層**時，工具會對整個群組進行操作。您可以查看整個合成組的即時預覽並與之互動。提交時，相同的扭曲被精確且獨立地應用於組內的每個子層和蒙版，從而保留完整的層結構。

## 群組變形

扭曲組是 Lumi 扭曲工具與眾不同的主要功能。

### 它解決的問題

在大多數繪畫程序中，扭曲多層插圖需要先展平組（破壞圖層結構）或單獨扭曲每個圖層並嘗試透過眼睛匹配它們（繁瑣且不精確）。這兩種方法都不會保留原始結構以進行進一步的無損編輯。

Lumi 將整個組作為一個項目進行扭曲，然後將完全相同的變換分配到其中的每一層。

### 它是如何運作的

當您選擇一個群組並開始扭曲描邊時，Lumi 會根據該群組的合成投影建立一個**浮動預覽圖層**。如果該組有蒙版，則該蒙版會烘焙到預覽中，以便預覽準確地呈現最終外觀。您可以直接在此預覽上繪製扭曲筆觸 - 您所看到的正是您所得到的。

提交時，Lumi：

1. 將位移應用到群組內的每個基本圖層（包括子群組中深度嵌套的圖層），將每個圖層的畫布擴展至足以捕捉完整的扭曲區域。
2. 在同一通道中對組內的每個蒙版應用相同的位移。
3. 恢復組的自動邊界計算，以便調整組的大小以適合其新扭曲的子項。
4. 將每個變形圖層裁切回其實際繪製的內容，以保持檔案大小緊密。
5. 刪除預覽圖層並從更新的子圖層重新產生群組投影。

所有這一切都發生在一個撤銷步驟內。提交後，該組看起來與預覽中的一模一樣，每個圖層和蒙版都完好無損。

### 面具

**扭曲蒙版**選項（預設啟用）會導致扭曲目標內的每個圖層和群組上的蒙版接收相同的位移變換。圖層蒙版隨其圖層一起移動：剪切角色輪廓的蒙版在變形後繼續剪切相同的輪廓。

當 **Warp Masks** 關閉時，只有圖層內容會發生位移；面罩保留其原始位置。

## 工具選項

### 行為

|模式|效果|
| :--- | :--- |
| **移動** |沿著筆畫方向推動像素。大多數翹曲工作的主要模式。 |
| **成長** |從畫筆中心向外擴展像素。 |
| **收縮** |將像素向內拉向畫筆中心。 |
| **順時針旋轉** |圍繞畫筆中心順時針旋轉像素。 |
| **逆時針旋轉** |圍繞畫筆中心逆時針旋轉像素。 |
| **擦除** |消除扭曲位移，將像素恢復到原始位置。 |
| **平滑** |擴散位移，柔化扭曲和未扭曲區域之間的突然過渡。 |

### 畫筆控制

- **大小**：扭曲畫筆的直徑（以像素為單位）。較大的畫筆會取代較寬的區域，並產生較柔和的衰減；較小的刷子可提供精確的局部控制。
- **硬度**：從中心到邊緣的衰減。高硬度可在整個刷子區域產生均勻的位移；低硬度將效果集中在中心。
- **強度**：每個筆畫像素移動的距離。較低的強度可以實現微妙的、逐漸的塑形；更高的力量會產生戲劇性的、快速的運動。

### 划水計時

- **運動期間的行程**（僅限移動模式）：在滑鼠移動時連續施加扭曲，而不是僅在計時器脈衝上應用扭曲。用於流暢的筆刷筆觸，您希望位移直接跟隨遊標。
- **定期描邊**：按住滑鼠按鈕時以固定時間間隔套用扭曲。用於增長、收縮和漩渦模式，其中連續循環應用是目的。
- **速率**：週期性行程應用的頻率。

### 質量

- **插值**：提交時所使用的採樣方法。對於大多數工作來說，線性是快速且平穩的； Cubic 和 Nohalo 為精細細節提供了更高的保真度。
- **高品質預覽**：在互動式預覽期間使用提交品質採樣器。速度較慢，但預覽與提交的結果完全匹配。

### 群組選項

- **擴展扭曲區域**（僅限群組扭曲）：作為透明邊距添加到所有側面的群組預覽周圍的像素數。這為流離失所的內容提供了進入的空間。預設 256 px 對於大多數工作來說已經足夠了；對於內存很重要的大圖像減少它，或者對於非常大的位移行程增加它。
- **扭曲蒙版**：是否對圖層和群組蒙版應用相同的扭曲。預設開啟。

## 撤銷和重做

每個筆劃都是扭曲會話中的一個離散撤消步驟。 **Ctrl+Z** 刪除最後一筆筆畫並將置換貼圖恢復到先前的狀態。 **Ctrl+Y**（或 **Ctrl+Shift+Z**）重新套用它。您可以在提交之前回顧整個中風歷史記錄。

按 **Escape** 或切換工具會丟棄所有未提交的筆畫並將圖層恢復到原始狀態。在您明確提交之前不會寫入任何變更。

## 承諾

按一下 **Commit** 按鈕（或按 **Enter**）以破壞性地套用累積的扭曲。對於群組扭曲，這會觸發上述完整的多層應用程式。已提交扭曲的撤消歷史記錄是影像撤銷堆疊中的單一條目，可透過標準**編輯 → 撤銷**進行逆轉。